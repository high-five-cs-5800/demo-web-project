<!DOCTYPE HTML>
<html ng-app="truckTest2" lang="en">
	<!-- This page uses AngularJS -->
	<head>

 	<!-- Required meta tags -->
    <meta charset="utf-8">
    <title>CS480 Demo Foodtruck using AngularJS</title>
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">

    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/css/bootstrap.min.css" integrity="sha384-/Y6pD6FV/Vv2HJnA6t+vslU6fwYXjCFtcEpHbNJ0lyAFsXTsjBbfaDjzALeQsN6M" crossorigin="anonymous">
	    <script src="https://ajax.googleapis.com/ajax/libs/angularjs/1.4.7/angular.min.js"></script>
	    <script src="/js/truckController2.js"></script>


	</head>

	<body ng-controller="DemoCtrl">
		<!-- Optional JavaScript -->
	    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
	    <script src="https://code.jquery.com/jquery-3.2.1.slim.min.js" integrity="sha384-KJ3o2DKtIkvYIK3UENzmM7KCkRr/rE9/Qpg6aAZGJwFDMVNA/GpGFF93hXpG5KkN" crossorigin="anonymous"></script>
	    <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js" integrity="sha384-b/U6ypiBEHpOf/4+1nzFpr53nxSS+GLCkfwBdFNTxtclqqenISfwAzpKaMNFNmj4" crossorigin="anonymous"></script>
	    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0-beta/js/bootstrap.min.js" integrity="sha384-h0AbiXch4ZDo7tp9hKZ4TsHbi047NrKGLO3SEJAg45jXxnGIfYzk4Si90RDIqNm1" crossorigin="anonymous"></script>


	    <hr>

	    <div class="container">
			<form ng-submit="postSearch()" method="POST">
			      Input:
			      <input type="text" name="search_input" ng-model="myForm.search_input">
			      <br/>
                  Search by:
			      <select ng-model="myForm.selectedRole" ng-options="r.locOptName for r in locOpt"></select>
			      <br/>
                  <label>Categories: </label>
                  <label ng-repeat="typeName in foodTypes">
                      <input
                      type="checkbox"
                      name="typeSelection[]"
                      value="{{typeName}}"
                      ng-click="toggleSelection(typeName)"
                      > {{typeName}}
                  </label>
                  <br/>
			      <input type="submit" id="submit" value="Submit" />
		    </form>
		    <div>
		      		{{myForm.search_input}} {{myForm.selectedRole.locOptName}}
		    </div>
		    <br><br>
	   		<table border="1">
	                <tr>
	                    <td>Name</td>
                        <td>Phone Number</td>
                        <td>Address</td>
	                    <td>Type</td>
                        <td>Directions</td>
	                </tr>

	                <tr ng-repeat="truck in trucks">
	                    <td>{{truck.name}}</td>
                        <td>{{truck.phone_number}}</td>
                        <td>{{truck.address}}</td>
                        <td>{{truck.type}}</td>
                        <td><a href="https://www.google.com/maps/dir/?api=1&destination={{truck.lat}},{{truck.lon}}">Route Me!</a></td>
	                </tr>
	         </table>
	    </div>

	</body>
